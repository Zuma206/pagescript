package stdlib

import (
	"github.com/Zuma206/pagescript/psruntime"
	"golang.org/x/net/html"
)

func OpenElements(psr *psruntime.PSRuntime) error {
	elements := psr.Engine().NewObject()
	psr.ScanHandlers().SetAttrHandler("id", func(psc *psruntime.PSContext, node *html.Node, id string) error {
		element := psr.Engine().NewObject()
		return elements.Set(id, element)
	})
}
